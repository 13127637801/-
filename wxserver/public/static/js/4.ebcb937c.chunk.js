(this.webpackJsonpprowebchat=this.webpackJsonpprowebchat||[]).push([[4],{103:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(44),r=n(85),i=n(17),o=n(2),s=n(86),u=n.n(s),m=n(46),f=n(45),p=n(87),d=n.n(p),E=function(e){var t=e.icon,n=e.style,a=void 0===n?{}:n,l=e.cb;return c.a.createElement("p",{className:d.a.searchBtn,style:a,onClick:l},c.a.createElement("i",{className:"iconfont "+t}))},b=n(52),h=n(88),g=n.n(h),v=n(54),j=function(e){var t=e.list,n=e.findToClass,r=Object(a.useState)(!1),i=Object(l.a)(r,2),o=i[0],s=i[1],u=Object(a.useState)(null),m=Object(l.a)(u,2),f=m[0],p=m[1];Object(a.useEffect)((function(){var e=new v.a("#leftScroll",{click:!0});return p(e),function(){e.destroy()}}),[]),Object(a.useEffect)((function(){f&&f.refresh()}),[t]);return c.a.createElement("div",{className:o?g.a.active+" "+g.a.menuItems:g.a.menuItems},c.a.createElement("aside",{className:g.a.asideLeft,id:"leftScroll"},c.a.createElement("main",null,c.a.createElement("ul",null,c.a.createElement("li",null,"\u5206\u7c7b"),c.a.createElement("li",null,c.a.createElement("i",{className:"iconfont icon-flag_fill"}),"\u672c\u5468\u9500\u91cf\u699c"),c.a.createElement("li",null,c.a.createElement("i",{className:"iconfont icon-document_fill"}),"\u70b9\u8fc7\u7684\u83dc")),c.a.createElement("ul",null,t.map((function(e,t){e.items;var a=e.index,l=e.name;return c.a.createElement("li",{key:a,onClick:function(){return function(e){s(!1),n(e)}(a)}},l)})))),c.a.createElement("p",{onClick:function(){s(!o)}},c.a.createElement("i",{className:"iconfont icon-other"}),c.a.createElement("span",null,"\u5206\u7c7b"))),c.a.createElement("aside",{className:g.a.asideRight}))},O=n(55),_=n(89),N=n.n(_),C=function(e){var t=e.cancel,n=e.sure;return c.a.createElement("div",{className:N.a.callOut},c.a.createElement("main",null,c.a.createElement("h2",null,"\u9700\u8981\u5c0f\u4e8c\u5e2e\u4f60\u53eb\u670d\u52a1\u751f\u4e48?"),c.a.createElement("section",null,c.a.createElement("button",{onClick:t},"\u53d6\u6d88"),c.a.createElement("button",{onClick:n},"\u53eb\u670d\u52a1\u751f"))))},y=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),o=n[0],s=n[1],p=e.history,d=Object(a.useState)(null),h=Object(l.a)(d,2),g=h[0],v=h[1],_=Object(a.useState)(!1),N=Object(l.a)(_,2),y=N[0],x=N[1];Object(a.useEffect)((function(){var e=new r.a("#scroll",{click:!0});return v(e),e.on("refresh",(function(){for(var e=document.getElementsByClassName("imgsss"),t=0;t<12;t++)if(window.isElementInViewport(e[t])){var n=e[t].getAttribute("lazy-src");e[t].setAttribute("src",n)}})),e.on("scrollEnd",(function(){for(var e=document.getElementsByClassName("imgsss"),t=0;t<e.length;t++)if(window.isElementInViewport(e[t])){var n=e[t].getAttribute("lazy-src");e[t].setAttribute("src",n)}})),m.c.getMenuList({id:Object(f.a)("shopId")}).then((function(t){s(t.data.kindMenus),e.refresh()})),function(){e.destroy()}}),[]);return c.a.createElement("div",null,c.a.createElement(E,{cb:function(){p.push("/project/search")},icon:"icon-search"}),c.a.createElement(b.a,{cb:function(){p.push("/shopCar")},icon:"icon-publishgoods_fill",style:{bottom:"0.4rem",right:"0.2rem"}},"\u8d2d\u7269\u8f66"),c.a.createElement(j,{findToClass:function(e){console.log(e);var t=document.getElementById(e).offsetTop;g.scrollTo(0,-t,1e3)},list:o}),c.a.createElement(O.a,null),y&&c.a.createElement(C,{cancel:function(){return x(!1)},sure:function(){m.c.callOut({shopId:Object(f.a)("shopId"),tableNum:Object(f.a)("tableNum"),userId:Object(f.a)("userId")}).then((function(){x(!1)}))}}),c.a.createElement("div",{id:"scroll",className:u.a.list},c.a.createElement("main",null,c.a.createElement("nav",null,c.a.createElement(i.b,{to:"/project/list"},c.a.createElement("i",{className:"iconfont icon-examineandapprove"}),c.a.createElement("span",null,"\u968f\u4fbf\u70b9")),c.a.createElement(i.b,{to:"/project/hotlist"},c.a.createElement("i",{className:"iconfont icon-flag_fill"}),c.a.createElement("span",null,"\u70ed\u9500\u699c")),c.a.createElement(i.b,{to:"/project/list"},c.a.createElement("i",{className:"iconfont icon-document_fill"}),c.a.createElement("span",null,"\u70b9\u8fc7\u7684\u83dc")),c.a.createElement("a",{onClick:function(){x(!0)}},c.a.createElement("i",{className:"iconfont icon-remind_fill"}),c.a.createElement("span",null,"\u670d\u52a1\u94c3"))),o.map((function(e,t){var n=e.items,a=void 0===n?{}:n,l=e.index,r=e.name;return c.a.createElement("section",{key:l,id:l},c.a.createElement("h3",null,r),c.a.createElement("ul",null,a.map((function(e,t){var n=e.name,a=e.imagePath,l=e.price,r=e.memberPrice,i=e.id;return c.a.createElement("li",{key:t,onClick:function(){p.push("/project/detail/"+i)}},c.a.createElement("img",{"lazy-src":a,className:"imgsss",src:2,alt:""}),c.a.createElement("h4",null,n),c.a.createElement("b",null,"\u4f1a\u5458\u4ef7\uff1a\uffe5",r),c.a.createElement("span",null,"\u539f\u4ef7\uff1a\uffe5",l))}))))})))))},x=function(){return c.a.createElement(o.b,{path:"/project/list",exact:!0,component:y})},k=n(90),w=n.n(k),I=n(48),S=n(91),z=n.n(S),A=function(e){var t=e.list,n=e.scroll,l=e.hot;return console.log(t),Object(a.useEffect)((function(){n&&n.refresh()}),[]),c.a.createElement("ul",{className:z.a.list},t.map((function(e,t){return c.a.createElement("li",{key:t},c.a.createElement("aside",null,c.a.createElement("img",{className:l,"lazy-src":e.imagePath,src:2,alt:""}),c.a.createElement("h4",null,e.name)),c.a.createElement("aside",null,c.a.createElement("div",null,"\u7b2c",c.a.createElement("p",null,c.a.createElement("b",null,t+1),c.a.createElement("i",{className:"iconfont icon-like_fill"})),"\u540d"),c.a.createElement("span",null,"\u5df2\u552e",e.soldCount,"\u4efd")))})))},B=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(null),s=Object(l.a)(o,2),u=s[0],p=s[1];return Object(a.useEffect)((function(){var e=new v.a("#scroll",{click:!0});return p(e),e.on("refresh",(function(){for(var e=document.getElementsByClassName("hotlazy"),t=0;t<12;t++)if(window.isElementInViewport(e[t])){var n=e[t].getAttribute("lazy-src");e[t].setAttribute("src",n)}})),e.on("scrollEnd",(function(){for(var e=document.getElementsByClassName("hotlazy"),t=0;t<e.length;t++)if(window.isElementInViewport(e[t])){var n=e[t].getAttribute("lazy-src");e[t].setAttribute("src",n)}})),m.c.getMenuList({id:Object(f.a)("shopId"),type:"hot"}).then((function(t){i(t.data.sort((function(e,t){return t.soldCount-e.soldCount}))),e.refresh()})),function(){e.destroy()}}),[]),c.a.createElement("div",{className:w.a.out},c.a.createElement(I.a,e,"\u8fd4\u56de"),c.a.createElement("div",{className:w.a.list,id:"scroll"},c.a.createElement("main",null,c.a.createElement("nav",null,"\u672c\u5e97\u9500\u91cf\u699c"),c.a.createElement(A,Object.assign({hot:"hotlazy",scroll:u},e,{list:r})))))},L=function(){return c.a.createElement(o.b,{path:"/project/hotlist",exact:!0,component:B})},M=n(92),T=n.n(M),P=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)([]),s=Object(l.a)(o,2),u=s[0],p=s[1],d=Object(a.useState)(null),E=Object(l.a)(d,2),b=E[0],h=E[1];Object(a.useEffect)((function(){var e=new v.a("#scroll",{click:!0});return h(e),e.on("refresh",(function(){for(var e=document.getElementsByClassName("searchlazy"),t=0;t<12;t++)if(window.isElementInViewport(e[t])){var n=e[t].getAttribute("lazy-src");e[t].setAttribute("src",n)}})),e.on("scrollEnd",(function(){for(var e=document.getElementsByClassName("searchlazy"),t=0;t<e.length;t++)if(window.isElementInViewport(e[t])){var n=e[t].getAttribute("lazy-src");e[t].setAttribute("src",n)}})),function(){e.destroy()}}),[]);return c.a.createElement("div",null,c.a.createElement(I.a,e,"\u8fd4\u56de"),c.a.createElement("div",{className:T.a.list,id:"scroll"},c.a.createElement("main",null,c.a.createElement("nav",null,c.a.createElement("i",{className:"iconfont icon-search",onClick:function(){m.c.getMenuList({id:Object(f.a)("shopId"),search:r}).then((function(e){p(e.data),b.refresh()}))}}),c.a.createElement("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)}}),c.a.createElement("i",{className:"iconfont icon-delete_fill",onClick:function(){return i("")}})),0===u.length?c.a.createElement("p",{className:T.a.none},"\u5ba2\u5b98\uff0c\u8bf7\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u83dc\u5355\u540d\u79f0"):c.a.createElement("section",null,c.a.createElement(A,Object.assign({hot:"searchlazy",scroll:b},e,{list:u}))))))},F=function(){return c.a.createElement(o.b,{path:"/project/search",exact:!0,component:P})},U=n(93),V=n.n(U),D=function(e){var t=e.match,n=e.history,r=t.params.id,i=Object(a.useState)({}),o=Object(l.a)(i,2),s=o[0],u=o[1],p=Object(a.useState)(1),d=Object(l.a)(p,2),E=d[0],b=d[1];Object(a.useEffect)((function(){m.c.getMenuDetail({shopId:Object(f.a)("shopId"),id:r}).then((function(e){u(e.data)}))}),[]);return c.a.createElement("div",{className:V.a.detail},c.a.createElement(I.a,e,"\u8fd4\u56de"),c.a.createElement("img",{src:s.imagePath,alt:""}),c.a.createElement("section",null,c.a.createElement("h3",null,s.name),c.a.createElement("p",null,"\uffe5",Object(f.b)(s.price),"/",s.account)),c.a.createElement("footer",null,c.a.createElement("aside",null,c.a.createElement("label",{htmlFor:""},"\u6570\u91cf"),c.a.createElement("p",null,c.a.createElement("b",{onClick:function(){return b(E>1?E-1:E)}},"-"),c.a.createElement("span",null,E,s.account),c.a.createElement("b",{onClick:function(){return b(E+1)}},"+"))),c.a.createElement("button",{className:V.a.shop,onClick:function(){m.d.sendShopCar({shopId:Object(f.a)("shopId"),userId:Object(f.a)("userId"),tableNum:Object(f.a)("tableNum"),menuId:r,count:E}).then((function(e){if(0==e.state)return alert("\u6709\u672a\u652f\u4ed8\u8ba2\u5355","success"),void setTimeout((function(){n.push("/order")}),1e3);alert("\u8d2d\u7269\u8f66\u6dfb\u52a0\u6210\u529f","success"),setTimeout((function(){n.push("/shopCar")}),1e3)}))}},"\u52a0\u5165\u8d2d\u7269\u8f66")))},J=function(){return c.a.createElement(o.b,{path:"/project/detail/:id",component:D})},q=function(e){return c.a.createElement(c.a.Fragment,null,e.children)};t.default=function(){return c.a.createElement(q,null,c.a.createElement(x,null),c.a.createElement(L,null),c.a.createElement(F,null),c.a.createElement(J,null))}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n(44),c=function(e){return window.location.search.substr(1).split("&").reduce((function(e,t){var n=t.split("="),c=Object(a.a)(n,2),l=c[0],r=c[1];return e[l]=r,e}),{})[e]},l=function(e){var t=String(e).replace(/(\d+)\.(\d+)/,(function(e,t,n){return t+"."+(n=n.padEnd(2,0))}));return t=t.includes(".")?t:t+".00"}},46:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(43),c=n(49),l=n.n(c);l.a.interceptors.request.use((function(e){return e.headers.key=1,e})),l.a.interceptors.response.use((function(e){return e.data}));var r=l.a,i={getShopData:function(e){return r.get("/api/welcome/getShopMsg",{params:{id:e}})},getUserInfo:function(e){return r.get("/api/welcome/getUserMsg",{params:{id:e}})},addPeople:function(e){return r.post("/api/welcome/addPeople",Object(a.a)({},e))}},o={getMenuList:function(e){return r.get("/api/project/getMenuList",{params:e})},callOut:function(e){return r.post("/api/project/callOut",Object(a.a)({},e))},getMenuDetail:function(e){return r.get("/api/project/getMenuDetail",{params:e})}},s={sendShopCar:function(e){return r.post("/api/shopCar/sendShopCar",Object(a.a)({},e))},changePeople:function(e){return r.post("/api/shopCar/changePeople",Object(a.a)({},e))},getShopCar:function(e){return r.get("/api/shopCar/getShopCar",{params:e})},changeShopCar:function(e){return r.get("/api/shopCar/changeShopCar",{params:e})},clearShopCar:function(e){return r.get("/api/shopCar/clearShopCar",{params:e})}},u={sendOrder:function(e){return r.post("/api/order/sendOrder",Object(a.a)({},e))},getOrder:function(e){return r.get("/api/order/getOrder",{params:e})},pay:function(e){return r.post("/api/order/pay",Object(a.a)({},e))}},m={changeUser:function(e){return r.post("/api/pc/changeUser",Object(a.a)({},e))},getOrder:function(e){return r.get("/api/pc/getOrder",{params:e})},evaluate:function(e){return r.post("/api/pc/evaluate",Object(a.a)({},e))}}},48:function(e,t,n){"use strict";var a=n(0),c=n.n(a),l=n(50),r=n.n(l);t.a=function(e){var t=e.history,n=e.style;return c.a.createElement("div",{className:r.a.goback,style:n,onClick:function(){t.go(-1)}},c.a.createElement("i",{className:"iconfont icon-return"}),c.a.createElement("span",null,e.children))}},50:function(e,t,n){e.exports={goback:"index_goback__27F_G"}},52:function(e,t,n){"use strict";var a=n(0),c=n.n(a),l=n(53),r=n.n(l);t.a=function(e){var t=e.icon,n=e.style,a=void 0===n?{}:n,l=e.cb;return c.a.createElement("p",{className:r.a.btn,style:a,onClick:l},c.a.createElement("i",{className:"iconfont "+t}),c.a.createElement("span",null,e.children))}},53:function(e,t,n){e.exports={btn:"inde_btn__3utFF"}},55:function(e,t,n){"use strict";var a=n(44),c=n(0),l=n.n(c),r=n(56),i=n.n(r),o=n(17);t.a=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1];return l.a.createElement("div",{className:i.a.nav},n?l.a.createElement("div",{className:i.a.navList},l.a.createElement("section",null,l.a.createElement(o.b,{to:"/project/list"},l.a.createElement("p",null,l.a.createElement("i",{className:"iconfont icon-createtask"})),l.a.createElement("span",null,"\u83dc\u5355")),l.a.createElement(o.b,{to:"/shopCar"},l.a.createElement("p",null,l.a.createElement("i",{className:"iconfont icon-publishgoods_fill"})),l.a.createElement("span",null,"\u8d2d\u7269\u8f66")),l.a.createElement(o.b,{to:"/order"},l.a.createElement("p",null,l.a.createElement("i",{className:"iconfont icon-document"})),l.a.createElement("span",null,"\u5df2\u4e0b\u5355\u7684\u83dc")),l.a.createElement(o.b,{to:"/pc/index"},l.a.createElement("p",null,l.a.createElement("i",{className:"iconfont icon-addressbook"})),l.a.createElement("span",null,"\u4f1a\u5458\u4e2d\u5fc3")),l.a.createElement("a",{onClick:function(){r(!1)}},l.a.createElement("p",null,l.a.createElement("i",{className:"iconfont icon-close"})),l.a.createElement("span",null,"\u8fd4\u56de")))):l.a.createElement("p",{onClick:function(){r(!0)},className:i.a.navText},l.a.createElement("span",null,"\u5bfc\u822a")))}},56:function(e,t,n){e.exports={nav:"index_nav__ph--B",navText:"index_navText__Ep1M3",navList:"index_navList__3cZ2R"}},86:function(e,t,n){e.exports={list:"index_list__1aWBe"}},87:function(e,t,n){e.exports={searchBtn:"inde_searchBtn__S-C-5"}},88:function(e,t,n){e.exports={menuItems:"inde_menuItems__1gZJc",asideLeft:"inde_asideLeft__2IW1G",active:"inde_active__2qjLU"}},89:function(e,t,n){e.exports={callOut:"index_callOut__l3Un9"}},90:function(e,t,n){e.exports={out:"index_out__3AM_b",list:"index_list__20XJT"}},91:function(e,t,n){e.exports={list:"index_list__FtA1m"}},92:function(e,t,n){e.exports={list:"index_list__I3u5v",none:"index_none__3jLBD"}},93:function(e,t,n){e.exports={detail:"index_detail__2Omln",shop:"index_shop__1J06E"}}}]);